controller.left.onEvent(ControllerButtonEvent.Pressed, function () {
    fish.setImage(fishLeftImg)
})
controller.right.onEvent(ControllerButtonEvent.Pressed, function () {
    fish.setImage(fishRightImg)
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.Food, function (sprite, otherSprite) {
    info.changeLifeBy(-1)
    otherSprite.destroy(effects.disintegrate)
    scene.cameraShake(4, 500)
    sprite.say(text_list._pickRandom(), 2000)
})
function makeEnemy () {
    info.changeScoreBy(1)
    ckicken = sprites.create(enemyImgs._pickRandom(), SpriteKind.Food)
    ckicken.vx = 40
    ckicken.vy = 60
    ckicken.y = 0
    ckicken.x = randint(0, 160)
ckicken.setFlag(SpriteFlag.BounceOnWall, true)
    ckicken.setVelocity(40, 60)
ckicken.ay=70
}

let ckicken: Sprite = null
let fishRightImg: Image = null
let fish: Sprite = null
let fishLeftImg: Image = null
let enemyImgs: Image[] = []
let text_list: string[] = []
scene.setBackgroundImage(img`
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ...................................77777777..........................................................77777777777777.............................................
    .................................77........77..............................................7777777777..............7777.........................................
    ..............................777............777......................................77777...777..777777..............77.......................................
    ............................77..................77..................................77......77.....77777.77777...........77.....................................
    ..........................77......................7...............................77......77.777777.....77....77...........77...................................
    ..........................7........................77............................7......77777...................77...........7..................................
    .........................7.........777777............7..........................7.....77..........................77..........7.................................
    ........................7.....77777...................7........................7...7777.............................77.........7................................
    ........................7..777.........................7......................7.777...................................77.......7................................
    .......................7.77.............................7....................777........................................7.......7...............................
    ......................7.7................................7..................77...........................................77......7..............................
    ......................77.................................7.................77..............................................7.....7..............................
    .....................7.7..................................7...............77................................................7.....7.............................
    .....................77...................................7..............7.7.................................................7....7.............................
    ....................7.7....................................7............7.7..................................................7....7.............................
    ....................77.....................................7............77....................................................7....7............................
    ....................77.....................................7............77....................................................7....7............................
    ....................77.....................................7...........7.7.....................................................7...7............................
    ....................77.....................................7...........77......................................................7...7............................
    ...................77......................................7..........7.7......................................................7...7............................
    ...................77......................................7..........7.7......................................................7...7............................
    ...................77......................................7..........77.......................................................7..7.............................
    ...................77......................................7..........77.......................................................7..7.............................
    ...................77......................................7..........77.......................................................7..7.............................
    ..................7.7......................................7..........77.......................................................7..7.............................
    ..................7..7.....................................7..........77.......................................................7..7.............................
    ..................7..7.....................................7..........77.......................................................7..7.............................
    ...................7..7....................................7..........77.......................................................7..7.............................
    ...................7..7....................................7..........77.......................................................7..7.............................
    ....................7..7..................................7...........77.......................................................7.7..............................
    ....................7..7..................................7...........77......................................................7..7..............................
    .....................7..7................................7............77......................................................7..7..............................
    ......................7..7..............................7.............77......................................................7..7..............................
    .......................7.7..............................7..............7......................................................7.7...............................
    ........................777...........................77...............7......................................................7.7...............................
    ..........................77.........................7.................77.....................................................7.7...............................
    ...........................77.......................7...................7....................................................7..7...............................
    .............................77...................77....................77...................................................7..7...............................
    ...............................7................77.......................7..................................................7..7................................
    .....................7..........77............77.........................77.................................................7.7.................................
    .....................7............777777777777............................7................................................7.7..................................
    ......................7...................................................77...............................................77...................................
    ......................7....................................................7..............................................7.7...............7...................
    ......................7.....................................................7............................................7.7................7...................
    .......................7.....7..............................................77..........................................7.7.................7...................
    .......................7....7................................................77.........................................77..................7...................
    .......................7...7..................................................77.......................................77...................7...................
    ........................7.7....................................................77.....................................77...................7....................
    ........................77.......................................................77................................777.....................7....................
    ........................77........................................................777..........................77777....................7..7....................
    .......................7..7........................................................77777777..........7777777777.77......................77.7....................
    ......................7...7..........................................................77....7777777777.........77..........................77....................
    ......................7....7.....................................7.....................77...................77............................77....................
    .....................7......7...................................7........................777777.........7777..............................77....................
    .....................7.......7..................................7..............................777777777..................................7.7...................
    ....................7.........7................................7..........................................................................7.7...................
    ...................7...........7...............................7.........................................................................7...7..................
    ...................7............7..............................7.........................................................................7...7..................
    ...................7.............7.............................7.........................................................................7....7.................
    ..................7...............7............................7........................................................................7.....7.................
    ..................7................7...........................7.....................7..................................................7.....7.................
    .................7..................7..........................7.....................7..................................................7.....7.................
    .................7...................77........................7.....................7..................................................7......7................
    .................7.....................77.......................7....................7..................................................7......7................
    .................7.......................7......................7....................7.................................................7.......7................
    ................7.........................77....................7...................7..................................................7.......7................
    ................7...........................77...................7.................7..................................................7........7................
    ................7.............................7...................7...............7..................................................7..........7...............
    ................7..............................7...................7..............7..................................................7..........7...............
    ................7...............................77.................7.............7..................................................7...........7...............
    ................7.................................7.................7..........77..................................................7............7...............
    ................7..................................77................7777777777...................................................7.............7...............
    ................7....................................77..........................................................................7..............7...............
    ................7......................................7........................................................................7...............7...............
    ................7.......................................77.....................................................................7...............7................
    ................7.........................................77.................................................................77................7................
    .................7..........................................7...............................................................7..................7................
    .................7...........................................77............................................................7...................7................
    .................7.............................................77........................................................77...................7.................
    .................7...............................................77....................................................77.....................7.................
    .................7.................................................777...............................................77.......................7.................
    ..................7...................................................7777........................................777.........................7.................
    ..................7.......................................................77777................................777............................7.................
    ...................7...........................................................7777.........................777..............................7..................
    ...................7...............................................................777777..............77777.................................7..................
    ...................7.....................................................................77777777777777.....................................7...................
    ....................7......................................................................................................................7....................
    ....................7......................................................................................................................7....................
    .....................7....................................................................................................................7.....................
    .....................7...................................................................................................................7......................
    ......................7..................................................................................................................7......................
    .......................7................................................................................................................7.......................
    .......................7...............................................................................................................7........................
    ........................7.............................................................................................................7.........................
    .........................7............................................................................................................7.........................
    ..........................7..........................................................................................................7..........................
    ...........................7........................................................................................................7...........................
    ............................7......................................................................................................7............................
    .............................7....................................................................................................7.............................
    ..............................7.................................................................................................77..............................
    ...............................7..............................................................................................77................................
    ................................7...........................................................................................77..................................
    .................................7........................................................................................77....................................
    ..................................77....................................................................................77......................................
    ....................................7.................................................................................77........................................
    .....................................7..............................................................................77..........................................
    ......................................77........................................................................7777............................................
    ........................................77..................................................................7777................................................
    ..........................................77..........................................................777777....................................................
    ............................................7777.................................................77777..........................................................
    ................................................777777.....................................777777...............................................................
    ......................................................7777777........................777777.....................................................................
    .............................................................777777777777777777777777...........................................................................
    ................................................................................................................................................................
    `)
text_list = ["I am on a diet", "Ouch", "No thanks"]
enemyImgs = [img`
    ..........bbbbbb................
    .......bbb444444bb..............
    .....2244444ddd444b.............
    ....244444444dddd44e............
    ...244444444444ddd4be...........
    ..244444444444444d44be..........
    .2b444444444444444d4be..........
    .2b44444444444444444bbe.........
    2bbb4444444444444444bbe.........
    2bbb4444444444444444bbe.........
    2bb4b4444444444444444bbe........
    2bb4444444444444444444be........
    2bb44444444444444444444e........
    2bbb444bbb4444444444444e........
    22bbb444bb4bb444444444be........
    .2bbbbb44bbbb44444444bbe........
    .22bbbbbbbb44bbb444444bbe.......
    ..eeebbbbbbb44bbb444444be.......
    ...eeeeebbbbbbbb44b4444be.......
    .....eeeeee222bb44bbb4bbe.......
    .......eeeee222bb44bbbbee.......
    ............e222bbbbbbbec.......
    ..............ee2bbbbeebdb......
    .................eeeeecdddb.....
    .......................cd11bbbb.
    ........................cd111dbb
    .........................b11111c
    .........................c11dd1c
    .........................cd1dbc.
    .........................cb11c..
    ..........................ccc...
    ................................
    `, img`
    ..........bbbbbb................
    .......bbb444444bb..............
    .....2244444ddd444b.............
    ....244444444dddd44e............
    ...244444444444ddd4be...........
    ..244444444444444d44be..........
    .2b444444444444444d4be..........
    .2b44444444444444444bbe.........
    2bbb4444444444444444bbe.........
    2bbb4444444444444444bbe.........
    2bb4b4444444444444444bbe........
    2bb4444444444444444444be........
    2bb44444444444444444444e........
    2bbb444bbb4444444444444e........
    22bbb444bb4bb444444444be........
    .2bbbbb44bbbb44444444bbe........
    .22bbbbbbbb44bbb444444bbe.......
    ..eeebbbbbbb44bbb444444be.......
    ...eeeeebbbbbbbb44b4444be.......
    .....eeeeee222bb44bbb4bbe.......
    .......eeeee222bb44bbbbee.......
    ............e222bbbbbbbec.......
    ..............ee2bbbbeebdb......
    .................eeeeecdddb.....
    .......................cd11bbbb.
    ........................cd111dbb
    .........................b11111c
    .........................c11dd1c
    .........................cd1dbc.
    .........................cb11c..
    ..........................ccc...
    ................................
    `, img`
    ..........bbbbbb................
    .......bbb444444bb..............
    .....2244444ddd444b.............
    ....244444444dddd44e............
    ...244444444444ddd4be...........
    ..244444444444444d44be..........
    .2b444444444444444d4be..........
    .2b44444444444444444bbe.........
    2bbb4444444444444444bbe.........
    2bbb4444444444444444bbe.........
    2bb4b4444444444444444bbe........
    2bb4444444444444444444be........
    2bb44444444444444444444e........
    2bbb444bbb4444444444444e........
    22bbb444bb4bb444444444be........
    .2bbbbb44bbbb44444444bbe........
    .22bbbbbbbb44bbb444444bbe.......
    ..eeebbbbbbb44bbb444444be.......
    ...eeeeebbbbbbbb44b4444be.......
    .....eeeeee222bb44bbb4bbe.......
    .......eeeee222bb44bbbbee.......
    ............e222bbbbbbbec.......
    ..............ee2bbbbeebdb......
    .................eeeeecdddb.....
    .......................cd11bbbb.
    ........................cd111dbb
    .........................b11111c
    .........................c11dd1c
    .........................cd1dbc.
    .........................cb11c..
    ..........................ccc...
    ................................
    `]
fishLeftImg = img`
    e e e . . . . e e e . . . . 
    c d d c . . c d d c . . . . 
    c b d d f f d d b c . . . . 
    c 3 b d d b d b 3 c . . . . 
    f b 3 d d d d 3 b f . . . . 
    e d d d d d d d d e . . . . 
    e d f d d d d f d e . b f b 
    f d d f d d f d d f . f d f 
    f b d d b b d d 2 f . f d f 
    . f 2 2 2 2 2 2 b b f f d f 
    . f b d d d d d d b b d b f 
    . f d d d d d b d d f f f . 
    . f d f f f d f f d f . . . 
    . f f . . f f . . f f . . . 
    `
fish = sprites.create(fishLeftImg, SpriteKind.Player)
fish.y = 110
controller.moveSprite(fish, 100, 0)
fish.setFlag(SpriteFlag.StayInScreen, true)
fishRightImg = fishLeftImg.clone()
fishRightImg.flipX()
info.setScore(0)
makeEnemy()
game.onUpdateInterval(2000, function () {
    makeEnemy()
})
